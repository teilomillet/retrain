[project]
name = "retrain"
version = "0.1.1"
description = "retrain is a Python library that uses Reinforcement Learning (RL) to help your Large Language Models (LLMs) learn new skills, master specific tasks, or follow complex instructions."
readme = "README.md"
requires-python = ">=3.12"
dependencies = [
    "duckdb>=1.3.2",
    "fastmcp>=2.3.4",
    "gdown>=5.2.0",
    "gymnasium>=1.1.1",
    "huggingface-hub[hf-xet]>=0.31.2",
    "loguru>=0.7.3",
    "mcp>=1.8.1",
    "peft>=0.15.2",
    "psycopg2-binary>=2.9.10",
    "pydantic>=2.11.4",
    "pyyaml>=6.0.2",
    "ray>=2.47.1",
    "snowflake-connector-python>=3.16.0",
    "sqlalchemy>=2.0.41",
    "sqlparse>=0.5.3",
    "torch>=2.7.0",
    "transformers>=4.51.3",
    "trl>=0.15.2",
    "wandb>=0.19.11",
]

[project.optional-dependencies]
unsloth = [
    "unsloth @ git+https://github.com/unslothai/unsloth.git",
    "unsloth-zoo @ git+https://github.com/unslothai/unsloth-zoo.git",
    "bitsandbytes>=0.45.5", # A key dependency for unsloth for quantization
    "triton; sys_platform == 'linux'", # Required by unsloth-zoo on Linux for performance
    "triton-windows; sys_platform == 'win32'", # Required by unsloth-zoo on Windows for performance
]
slime = [
    "ray[default]>=2.0.0",  # Distributed computing framework used by Slime
    "sglang>=0.4.7",        # High-performance LLM serving for rollout generation  
    "accelerate",           # HuggingFace acceleration utilities
    "httpx[http2]",         # HTTP client for Slime's router communication
    "wandb",                # Weights & Biases for training metrics (optional but recommended)
    "pylatexenc",           # Text encoding utilities used by Slime
    "blobfile",             # File I/O utilities for distributed systems
]

[tool.setuptools]
packages = ["retrain"]
