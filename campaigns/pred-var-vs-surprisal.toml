# pred-var-vs-surprisal: Does predictive_variance separate from surprisal?
# 2 conditions x 3 seeds x 100 steps = 6 runs
# Run: retrain campaigns/pred-var-vs-surprisal.toml

[campaign]
seeds = [42, 101, 202]
max_steps = 100
parallel = true
max_workers = 6

[[campaign.conditions]]
advantage_mode = "maxrl"
transform_mode = "gtpo_sepa"
uncertainty_kind = "surprisal"

[[campaign.conditions]]
advantage_mode = "maxrl"
transform_mode = "gtpo_sepa"
uncertainty_kind = "predictive_variance"

[backend]
backend = "tinker"

[model]
model = "Qwen/Qwen3-4B-Instruct-2507"
lora_rank = 128

[training]
batch_size = 8
group_size = 16
max_tokens = 10240
temperature = 0.7
lr = 4e-5
save_every = 20

[sepa]
steps = 100
schedule = "linear"
delay_steps = 5

[squeeze]
min_variance_retention = 0.95

[logging]
wandb_project = "pred-var-vs-surprisal"
